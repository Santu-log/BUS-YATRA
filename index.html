<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css"> <link rel="stylesheet" href="side-bar.css"> 
    <link rel="icon" href="Bus logo.webp">
    <title>BUS-YATRA</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha34-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-M7B1M4RJ2P"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-M7B1M4RJ2P');
    </script>
</head>
<body>
    <!-- Header/Navigation (No changes here) -->
    <header >
        <div class="nav-bar">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center ">
              <input type="checkbox" id="check" />
              <div class="btn_one">
                <label for="check" style="color: rgb(19, 19, 19)">
                  <i class="fa-solid fa-bars"></i>
                </label>
              </div>

              <div class="sidebar_menu" >
                <div class="logo">
                    <div class="flex items-center contents-center  " >
                        <img src="Bus logo.webp"style="height: 100px " >
                        <h1 class="text-xl font-bold text-blue-800">BUS-YATRA</h1>
                    </div>
                    <div class="btn_two">
                        <label for="check" >
                            <i class="fa-solid fa-xmark" style="border: 2px solid black; border-radius: 25%; margin-right: 20px;"></i>
                        </label>
                    </div>
                </div>
                <div class="menu">
                  <ul>
                    <li>
                      <div class="language-selector">
                            <button class="language-button">
                                <i class="fas fa-globe"></i>
                                <span id="language">EN</span>
                                <i class="fas fa-chevron-down chevron-icon"></i>
                            </button>
                            <div class="language-dropdown">
                                <a href="#">English</a>
                                <a href="#">हिंदी</a>
                                <a href="#">বাংলা</a>
                                <a href="#">French</a>
                            </div>
                        </div>
                    </li>
                    <li><i class="fa-solid fa-arrow-up-right-from-square"></i><a href="#">Shortcuts</a></li>
                    <li><i class="fa-solid fa-photo-film"></i><a href="#">Share App</a></li>
                    <li><i class="fa-solid fa-gear"></i><a href="#">Setting</a></li>
                    <li><i class="fa-solid fa-phone"></i><a href="#">Contact</a></li>
                    <li><i class="fa-regular fa-comments"></i><a href="#">Feedback</a></li>
                  </ul>
                </div>
                <div class="social_media bg-gray-800">
                  <ul>
                    <a href="#"><i class="fa-brands fa-facebook"></i></i></a>
                    <a href="#"><i class="fa-brands fa-twitter"></i></a>
                    <a href="#"><i class="fa-brands fa-instagram"></i></i></a>
                    <a href="#"><i class="fa-brands fa-youtube"></i></a>
                  </ul>
                </div>
              </div>
               
                <div class="flex items-center ">
                     <img src="Bus logo.webp"style="height:50px ">
                    <h1 class="text-xl font-bold text-blue-800">BUS-YATRA</h1>
                </div>
                <nav class="nav-menu">
                    <div>
                        <a href="#" class="menu-link" id="location-link" onclick="fetchLocation()"><i class="fa-solid fa-location-dot"></i> Fetch Current location</a>
                    </div>
                </nav>
                <div class="header-right d-flex align-items-center">
    <span id="user-display-name" class="me-3 fw-bold"></span>
    <a class="btn btn-primary" id="auth-button" href="sing_in.html" role="button">Sign in</a>
</div>
                </div>
            </div>
        </div>

        <div class="sub-nav">
           <button type="button" class="btn btn-outline-primary" ><a href="wbtc.html" style="text-decoration: none;">WBTC</a></button>
           <button type="button" class="btn btn-outline-secondary"><a href="local.html" style="text-decoration: none;">LOCAL</a></button>
           <button type="button" class="btn btn-outline-success"><a href="tourist.html" style="text-decoration: none;">TOURIST</a></button>
        </div>
        <div></div>
        </br>
    </header>

    <!-- Main Dashboard (No changes here) -->
    <main class="container mx-auto px-2 py-2" >
        <div class="dashboard-container">
            <div class="dashboard-row">
                <!-- First Container -->
                <div class="dashboard-card" id="s&d">
                    <div class="input-container">
                        <i class="fa-solid fa-location-dot input-icon"></i>
                        <input type="text" placeholder="From Location" class="input-field"  list="stopSuggestions1" id="sourceInput">
                        <i class="fa-solid fa-microphone input-icon right-icon"></i>
                    </div>
                    <div class="switch-container">
                        <div class="switch-locations">⇅</div>
                    </div>
                    <div class="input-container">
                        <i class="fa-solid fa-location-dot input-icon"></i>
                        <input type="text" placeholder="To Location" class="input-field"  list="stopSuggestions1" id="destinationInput">
                        <i class="fa-solid fa-microphone input-icon right-icon"></i>
                    </div>
                    <!-- ADD THIS ENTIRE SECTION for favorites -->
<div id="favorites-section" class="mt-5" style="display: none;">
    <h2 class="text-2xl font-bold mb-4 text-gray-800"><i class="fa-solid fa-star text-warning"></i> My Favorite Routes</h2>
    <div id="favorites-list" class="bg-white rounded-lg shadow p-4">
        <!-- Favorite routes will be loaded here by JavaScript -->
        <p class="text-gray-500">Loading your favorites...</p>
    </div>
</div>

                    <button class="primary-button" id="searchbtn1">Find Bus</button>
                    <div id="suggestionBox" style="display:none; background:#fff; border:1px solid #ccc; border-radius:5px; margin-top:5px; max-height:200px; overflow-y:auto; font-family:sans-serif; box-shadow:0 2px 6px rgba(0,0,0,0.1);"></div>
                    <div id="resultBox1"></div>
                </div>
                
                <!-- Second Container -->
               <div class="dashboard-card Second-Container" id="usingname" style="margin-top: 1rem;">
                    <div class="input-with-button">
                        <input type="text" id="routeSelect" placeholder="Enter Bus Name" class="input-field">
                        <button id="fetchBtn" class="primary-button" style="margin-top: 0px;">
                            <i class="fa-brands fa-searchengin"></i>
                        </button>
                    </div>
                    <div id="routeDetails" class="route-details"></div>
                </div>
                
                <!-- Third Container -->
                <div class="dashboard-card Second-Container" id="usinglocation" style="margin-top: 1rem; ; ">
                    <div class="input-container " style="position:static;">
                        <input type="text" placeholder="Location" list="stopSuggestions" id="loc3" class="input-field"  >
                        <datalist id="stopSuggestions"></datalist>
                    </div>
                    <button id="searchButton3" class="primary-button">Search Bus Route</button>
                    <div id="suggestions" class="suggestion-box"></div>
                    <div id="resultBox"></div>
                </div>
            </div>
        </div>

        <!-- Advisory Feed (No changes here) -->
        <div class="mb-8" id="advisory">
            <h2 class="text-2xl font-bold mb-4 text-gray-800"> Advisories</h2>
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <div class="border-b p-4 bg-gray-50">
                    <h3 class="font-semibold text-lg">Alerts</h3>
                </div>
                <div class="divide-y">
                    <div class="p-4 hover:bg-gray-50">
                        <div class="flex items-start">
                            <div class="bg-green-100 p-2 rounded-full mr-3"><i class="fa-solid fa-location-dot"></i></div>
                            <div>
                                <h4 class="font-semibold">Be Aware of Your Stop</h4>
                                <p class="text-gray-600 text-sm">Buses may not always announce stops clearly. Keep track of your location via Google Maps or ask fellow passengers to alert you near your destination.</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-4 hover:bg-gray-50">
                        <div class="flex items-start">
                            <div class="bg-blue-100 p-2 rounded-full mr-3"><i class="fa-solid fa-shield"></i></div>
                            <div>
                                <h4 class="font-semibold">Watch Out for Pickpockets</h4>
                                <p class="text-gray-600 text-sm">Crowded buses are a target zone for pickpockets. Keep your wallet, phone, and valuables secured, preferably in front pockets or a zipped bag.</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-4 hover:bg-gray-50">
                        <div class="flex items-start">
                            <div class="bg-yellow-100 p-2 rounded-full mr-3"><i class="fa-solid fa-hourglass-start"></i></div>
                            <div>
                                <h4 class="font-semibold">Stay Patient — Traffic is Common</h4>
                                <p class="text-gray-600 text-sm">Traffic jams and delays are part of daily life in Kolkata. Stay calm, carry something to read or listen to music if you expect a long commute.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4 border-t text-center">
                    <button class="text-green-600 hover:text-green-800 font-medium">View All Advisories <i class="fas fa-arrow-right ml-1"></i></button>
                </div>
            </div>
        </div>
    </main>
      
    <!-- Footer (No changes here) -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h3 class="font-bold text-lg mb-4">BUS-YATRA</h3>
                    <p class="text-gray-400">Bus Yatra is a user-friendly website designed to help commuters easily find and plan bus routes across cities and towns. With a simple and clean interface, Bus Yatra allows users to search for the best bus options by entering their starting point and destination. The website provides detailed information on available  route maps, nearby bus stops, estimated travel time, and fare details.</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">How It Works</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Search near Bus Stop</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Find Bus</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4">Support</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Help Center</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Contact Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Terms of Service</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-4">Connect With Us</h3>
                    <div class="flex space-x-4 mb-4">
                        <a href="#" class="bg-gray-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-green-600"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="bg-gray-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-400"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="bg-gray-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-purple-600"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="bg-gray-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-500"><i class="fab fa-youtube"></i></a>
                    </div>
                    <p class="text-gray-400"> Helpline: <span class="font-semibold"> 033-2237 2692</span></p>
                </div>
            </div>
            <div class="border-t border-gray-700 pt-6 text-center text-gray-400">
                <p>© 2025 BUS-YATRA. All rights reserved. Designed for daily Commutaters.</p>
            </div>
        </div>
    </footer>

    <!-- SCRIPT SECTION: Corrected Order -->
    <!-- 1. Load Firebase SDK Libraries FIRST -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    
    <!-- 2. Load Your Firebase Config SECOND -->
    <script src="firebase-config.js"></script> 
    
    <!-- 3. Load Your Custom App Logic LAST -->
    <script src="app.js"></script>
</body>
</html>